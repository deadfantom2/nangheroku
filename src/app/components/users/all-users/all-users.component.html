<form [formGroup]="form" (ngSubmit)="createUser()" class="text-left">
  <div class="form-group">
    <input formControlName="email" placeholder="Your email" type="text" />
    <span
      class="text-danger"
      *ngIf="
        form.get('email').touched && form.get('email').hasError('required')
      "
      >Email is required</span
    >
    <span
      class="text-danger"
      *ngIf="
        form.get('email').touched && form.get('email').hasError('minlength')
      "
      >Email isn't long enough, minimum of 11 characters</span
    >
    <span
      class="text-danger"
      *ngIf="
        form.get('email').touched && form.get('email').hasError('maxlength')
      "
      >Email is long enough, maximum 50 characters</span
    >
  </div>
  <div class="form-group">
    <input
      formControlName="password"
      placeholder="You Password"
      type="password"
    />
    <span
      class="text-danger"
      *ngIf="
        form.get('password').touched &&
        form.get('password').hasError('required')
      "
      >Password is required</span
    >
    <span
      class="text-danger"
      *ngIf="
        form.get('password').touched &&
        form.get('password').hasError('minlength')
      "
      >Password isn't long enough, minimum 4 characters</span
    >
    <span
      class="text-danger"
      *ngIf="
        form.get('password').touched &&
        form.get('password').hasError('maxlength')
      "
      >Password is long enough, maximum 100 characters</span
    >
  </div>

  <div class="form-group">
    <button [disabled]="form.invalid || form.disabled" type="submit">
      Sign up
    </button>
  </div>
</form>

<table>
  <thead>
    <tr>
      <th
        *ngFor="let header of columns"
        (click)="doSortByHeader(header.property)"
      >
        <span
          >{{ header.text }}
          <i
            class="fa"
            [ngClass]="{
              'fa-sort': tabHeaderName != header.property,
              'fa-sort-asc': tabHeaderName == header.property && isDesc,
              'fa-sort-desc': tabHeaderName == header.property && !isDesc
            }"
          ></i>
        </span>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr
      *ngFor="
        let user of users$
          | async
          | sortBy: { property: tabHeaderName, direction: direction }
      "
      class="col redAsync"
      app-user-page
      [user]="user"
      [columns]="columns"
      (changeRole)="changeRoleUser(user, $event)"
      (changeAccess)="changeAccessUser(user)"
      (deleteById)="deleteUser(user)"
    ></tr>
  </tbody>
</table>
